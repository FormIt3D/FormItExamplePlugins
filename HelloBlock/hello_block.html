
<html>
<head>
<title>My Hello Block!</title>
<META NAME="Title" CONTENT="Create Block!">
<META NAME="Author" CONTENT="Jeff Hauswirth">
<!-- <script type="text/javascript" src="FormIt_Emscripten.js"></script> -->
<!-- <script type="text/javascript" src="qwebchannel.js"></script> -->
<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>
<script type="text/javascript" src="block.js"></script>
<script type="text/javascript">
    <!-- it's a good idea to initialize webchannel after DOM ready, if your code is going to manipulate the DOM -->
    document.addEventListener("DOMContentLoaded", function () {
        new QWebChannel(qt.webChannelTransport, function (channel) {
            window.NewFormItInterface = channel.objects.FormItInterface;

            window.require = function(text)
            {
                return new Promise(function(resolve, reject)
                    {
                        function requireCB(result)
                        {
                            console.log("requireCB: " + result);
                            resolve(result);
                        }
                        NewFormItInterface.require(text, requireCB);
                    });
            }
            var result = window.require("http://localhost:8000/block.js").then(function(res)
            {
                console.log("res: " + res);
                return res;
            });
            console.log("result2: " + result);            
        });
    });
</script>
</head>
<body>
<h1>My Hello Block!</h1>
<hr>
<form name=a action="x.htm">
Width <input type=number name=width value = 10.0><br>
Length <input type=number name=length value = 10.0><br>
Height <input type=number name=height value = 10.0><br>
<input type=button value="Create Block" onClick="Submit();">
</form>

</body>
</html>